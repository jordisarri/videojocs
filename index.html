<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hoja Jocs - Datos</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            padding: 20px;
        }
        table {
            margin-top: 20px;
            background-color: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        th, td {
            text-align: center;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Datos de la Hoja <em>'Jocs'</em></h1>
        <button class="btn btn-primary" onclick="fetchCSV()">Cargar Datos</button>
        <div id="output" class="mt-4"></div>
    </div>

    <!-- JavaScript para cargar el CSV -->
    <script>
        async function fetchCSV() {
            const url = 'https://cors-anywhere.herokuapp.com/https://docs.google.com/spreadsheets/d/e/2PACX-1vStBU_0ly28XNjy8fIKGMos3Iqp7gYlRyXzC-gcs4-2kDJqukhP2g1X74EC07Lw2K0A7NDk6gpqqNZj/pub?gid=468473510&single=true&output=csv'; // Tu enlace CSV
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error("No se pudo acceder a los datos. Verifica el enlace o los permisos.");
                }
                const data = await response.text();
                
                // Procesar los datos CSV
                const rows = data.split("\n").map(row => row.split(","));
                let tableHTML = `
                    <table class="table table-bordered table-striped">
                        <thead class="table-dark">
                            <tr>${rows[0].map(header => `<th>${header}</th>`).join("")}</tr>
                        </thead>
                        <tbody>
                `;
                rows.slice(1).forEach(row => {
                    tableHTML += `<tr>${row.map(cell => `<td>${cell}</td>`).join("")}</tr>`;
                });
                tableHTML += "</tbody></table>";

                // Mostrar los datos en la p√°gina
                document.getElementById("output").innerHTML = tableHTML;
            } catch (error) {
                document.getElementById("output").innerHTML = `<div class="alert alert-danger">${error.message}</div>`;
            }
        }
    </script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
